<!doctype html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout}"
>
  <head>
    <title>Alumnos</title>
  </head>
  <body>
    <section class="content" layout:fragment="content">
      <div
        class="overflow-x-auto rounded-box border border-base-content/5 bg-base-100"
      >
        <table class="table">
          <!-- head -->
          <thead>
            <tr>
              <th></th>
              <th>Nompre y Apellidos</th>
              <th>Correo</th>
              <th>Telefono</th>
              <th>
                <button onclick="add_student_modal.showModal()" class="btn btn-circle btn-sm btn-success">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-plus-circle-fill"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z"
                    />
                  </svg>
                </button>
              </th>
            </tr>
          </thead>
          <tbody>
            <!-- row 1 -->
            <tr th:each="student : ${students}">
              <th th:text="${student.idcard}"></th>
              <td th:text="|${student.firstname} ${student.lastname}|"></td>
              <td th:text="${student.email}"></td>
              <td th:text="${student.phone}"></td>
              <td>
                <a
                  th:href="@{/students/{code}(code=${student.idcard})}"
                  type="button"
                  class="btn btn-sm btn-circle btn-info"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-pencil-square"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"
                    />
                    <path
                      fill-rule="evenodd"
                      d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"
                    />
                  </svg>
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <br />
      <div class="join">
        <a
          th:href="@{/students(page=${currentPage - 1})}"
          th:classappend="${currentPage == 0} ? 'btn-disabled' : ''"
          class="join-item btn"
          >«</a
        >

        <th:block th:each="i : ${#numbers.sequence(0, totalPages - 1)}">
          <a
            th:href="@{/students(page=${i})}"
            th:text="${i + 1}"
            class="join-item btn"
            th:classappend="${i == currentPage} ? 'btn-active' : ''"
          ></a>
        </th:block>

        <a
          th:href="@{/students(page=${currentPage + 1})}"
          th:classappend="${currentPage + 1 >= totalPages} ? 'btn-disabled' : ''"
          class="join-item btn"
          >»</a
        >
      </div>
      <dialog id="add_student_modal" class="modal">
        <div class="modal-box">
          <form method="dialog">
            <button
              class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
            >
              ✕
            </button>
          </form>
          <h3 class="text-lg font-bold">Nuevo Estudiante</h3>
          <hr/>
          <br>
          <form>
            <div>
              <label for="idcard_input">ID Card</label>
              <input id="idcard_input" type="text" name="idcard" class="input input-info w-full"/>
            </div>
            <br>
            <div>
              <label for="firstname_input">Nombre</label><br>
              <input id="firstname_input" name="firstname" class="input input-info w-full" type="text"/>
            </div>
            <br>
            <div>
              <label for="lastname_input">Apellidos</label><br>
              <input id="lastname_input" name="lastname" class="input input-info w-full" type="text">
            </div>
            <br>
            <div>
              <label for="email_input">Correo</label>
              <input id="email_input" name="email" class="input input-info w-full"/>
            </div>
            <br>
            <div>
              <label for="phone_input">Telefono</label>
              <input id="phone_input" name="phone" class="input input-info w-full"/>
            </div>
            <br><br>
            <button type="submit" class="btn btn-block btn-success">Guardar</button>
          </form>
        </div>
      </dialog>
    </section>
  </body>
</html>
